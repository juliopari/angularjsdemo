<div class="container-fluid">

  <!-- start page title -->
  <app-page-title [title]="title" [breadcrumbItems]="breadCrumbItems"></app-page-title>
  <!-- end page title -->

  <div class="row">
      <div class="col-12">
          <div class="card">
              <div class="card-body">
                <h4 class="card-title">Búsqueda</h4>              

                <div class="row mb-3">
                  <div class="col-md-6">
                    <div class="input-group">
                      <span class="input-group-text" id="basic-addon1">1</span>
                      <input type="text" class="form-control" placeholder="Ingresa el código de la empresa" #companyCode required>
                    </div>
                  </div>
                  <div class="col-md-6 mt-3 mt-md-0">
                    <div class="input-group d-flex flex-row">
                      <button class="btn btn-secondary" (click)="getServicesByCompany(companyCode.value)"><i class='bx bx-search-alt'></i></button>                     
                    </div>                                                            
                  </div>             
                </div>                           
              </div>
          </div>
      </div> <!-- end col -->
  </div>
  <!-- end row -->

  <div *ngIf="companyServices.length > 0" class="row">
      <div class="col-lg-12">
          <div class="card">
              <div class="card-body">
                  <h4 class="card-title">Servicios</h4>

                  <div *ngFor="let item of companyServices; let itemIndex=index">
                    <div class="row mb-3">
                      <div class="col-md-6">
                        <div class="input-group">
                          <span class="input-group-text" id="basic-addon1">{{ itemIndex+1 }}</span>
                          <input type="text" class="form-control" placeholder="Email" [value]="item.name" readonly>                        
                        </div>
                      </div>
                      <div class="col-md-6 mt-3 mt-md-0">
                        <div class="input-group">
                          <button class="btn btn-success" routerLink="/service-affiliation/update-service">Editar</button>
                          <button class="btn btn-danger" (click)="openModal()">Eliminar</button>
                        </div>                                                            
                      </div>                              
                    </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  <!-- end row -->

</div> <!-- container-fluid -->

<ng-template #content let-modal>
  <div class="modal-body">
      <div class="text-center mb-4">
          <div class="avatar-md mx-auto mb-4">
              <div class="avatar-title bg-light rounded-circle text-primary h1">
                  <i class="mdi mdi-email-open"></i>
              </div>
          </div>

          <div class="row justify-content-center">
              <div class="col-xl-10">
                  <h5 class="text-primary">¿Estas seguro que deseas eliminar este servicio?</h5>               
              </div>
              <div class="d-flex justify-content-center">
                <button class="btn btn-primary btn-lg w-xs">Si</button>
                <div class="mx-2 my-2"></div>
                <button (click)="modal.dismiss('Cross click')" class="btn btn-success btn-lg w-xs">No</button>
              </div>
              
          </div>
      </div>
  </div>
</ng-template>
